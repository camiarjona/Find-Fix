<form class="app-form-content" [formGroup]="loginForm" (ngSubmit)="onSubmit()">

  <h1>Iniciar Sesión</h1>
  <span>Ingresá tu email y contraseña</span>

  <div class="form-field">
    <input id="login-email" formControlName="email" type="email" placeholder=" " />
    <label for="login-email">Email</label>
  </div>
  @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) {
  <small class="error-message">Por favor, ingresa un email válido.</small>
  }

  <div class="form-field">

    <div class="password-wrapper">

      <input id="login-password" formControlName="password" [type]="showPassword() ? 'text' : 'password'"
        placeholder=" " />

      <label for="login-password">Contraseña</label>

      <button type="button" class="toggle-btn" (click)="togglePassword()" tabindex="-1">
        @if (showPassword()) {
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" [attr.d]="icons.EYE_OPEN" />
        </svg>
        } @else {
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" [attr.d]="icons.EYE_CLOSED" />
        </svg>
        }
      </button>

    </div>
  </div>
  @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
  <small class="error-message">La contraseña es obligatoria.</small>
  }

  @if (loginError) {
  <div class="server-error-message">
    {{ loginError }}
  </div>
  }

  <a href="#" class="forgot-pass-link">¿Olvidaste tu contraseña?</a>

  <div class="mobile-cta-icon" aria-hidden="true">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
      <rect x="3" y="11" width="18" height="10" rx="2" />
      <path d="M7 11V8a5 5 0 0 1 10 0v3" />
    </svg>
  </div>

  <button class="cta-button" type="submit" [disabled]="loginForm.invalid">
    Ingresar
  </button>

    <div class="social-login-container">
      <app-google-login-button></app-google-login-button>
    </div>
    
  <p class="mobile-toggle-link">
    ¿No tienes una cuenta?
    <a (click)="onToggle()">Regístrate aquí</a>
  </p>

</form>
