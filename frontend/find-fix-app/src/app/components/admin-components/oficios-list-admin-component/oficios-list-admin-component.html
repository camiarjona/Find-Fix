<div class="general-html">
  @if (showConfirmDialog()) {
  <app-admin-dialog-confirm [itemName]="currentOffcioToDelete.nombre!" (confirm)="handleDeleteConfirmation($event)">

  </app-admin-dialog-confirm>
  }

  @if (formStatus() === 'creating') {
  <app-oficios-form-admin-component></app-oficios-form-admin-component>
  }

  @if (pageMessage().visible) {
  <div class="alert-message" [ngClass]="pageMessage().type">
    {{ pageMessage().message }}
  </div>
  }

  <div class="header-contenedor">
    <h1 class="oficios-titulo">Gestion Oficios</h1>
    <p class="admin-subtitulo">
      Actualmente esta visualizando todos los oficios registrados en el sistema
    </p>
  </div>

  <div class="contenedor-oficios">
    @if (isLoading()) {
    <div class="loading-spinner">Cargando oficios...</div>
    } @else {
    @for (oficio of oficios(); track $index) {
    <article class="tarjeta-oficio">
      <img
        src="https://media.istockphoto.com/id/1455890574/es/foto/casco-deferente-amarillo-herramientas-de-construcci%C3%B3n-para-seguridad-industrial-aisladas-sobre.jpg?s=612x612&w=0&k=20&c=EUkhuovVmAfW7lD3BjTobT4VIsEambJVx9Dm8tcoW2Q="
        alt="">
      <h4>{{oficio.nombre}}</h4>
      <div class="buttons-container">
        <button class="cta-button" (click)="mostrarAvisoEdicion()">
          Editar
        </button>
        <button class="cta-button" (click)="eliminarOficio(+oficio.id, oficio.nombre.toString())">
          Eliminar
        </button>
      </div>
    </article>
    }
    }
  </div>

  <div class="oficio-list-footer">
    <button class="cta-button" (click)="toggleForm()">
      {{ formStatus() === 'creating' ? 'Ocultar Formulario' : 'AGREGAR NUEVO OFICIO' }}
    </button>
  </div>

</div>
